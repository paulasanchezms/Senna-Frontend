<ion-header class="bg-lightPeach sticky border-b border-peach w-full">
  <ion-toolbar class="py-2">
    <div class="flex items-center justify-between max-w-7xl mx-auto px-4">
      <!-- Logo -->
      <div class="flex items-center space-x-2">
        <span class="font-peachy text-2xl text-salmon font-bold">Senna</span>
      </div>

      <!-- Menú principal (desktop) -->
      <nav class="hidden md:flex items-center space-x-6">
        <a
          routerLink="/calendar"
          routerLinkActive="bg-lavender text-white"
          [routerLinkActiveOptions]="{ exact: true }"
          class="px-3 py-1 rounded-md text-base text-salmon hover:bg-lavender hover:text-white transition font-semibold"
        >
          Calendario
        </a>
        <div class="relative flex flex-col items-center">
          <span
            *ngIf="pendingCount > 0"
            class="absolute -top-2 right-0 bg-red-500 text-white text-xs font-bold rounded-full px-1.5 py-0.5 shadow"
          >
            {{ pendingCount }}
          </span>
          <a
            routerLink="/appointment-requests"
            routerLinkActive="bg-lavender text-white"
            [routerLinkActiveOptions]="{ exact: true }"
            class="px-3 py-1 rounded-md text-base text-salmon hover:bg-lavender hover:text-white transition font-semibold"
          >
            Solicitudes
          </a>
        </div>
        <a
          routerLink="/search-patient"
          routerLinkActive="bg-lavender text-white"
          [routerLinkActiveOptions]="{ exact: true }"
          class="px-3 py-1 rounded-md text-base text-salmon hover:bg-lavender hover:text-white transition font-semibold"
        >
          Pacientes
        </a>
        <a
          routerLink="/psychologist-profile"
          routerLinkActive="bg-lavender text-white"
          [routerLinkActiveOptions]="{ exact: true }"
          class="px-3 py-1 rounded-md text-base text-salmon hover:bg-lavender hover:text-white transition font-semibold"
        >
          Perfil
        </a>
        <a
          *ngIf="isAdmin"
          routerLink="/admin"
          routerLinkActive="bg-lavender text-white"
          class="px-3 py-1 rounded-md text-base text-salmon hover:bg-lavender hover:text-white transition font-semibold"
        >
          Administración
        </a>
      </nav>

      <!-- Área derecha -->
      <div class="flex items-center space-x-3">
        <!-- Logout (solo desktop) -->
        <button
          class="hidden md:inline-block text-sm bg-peach text-white px-3 py-1 rounded-md font-medium hover:bg-salmon transition"
          (click)="logout()"
        >
          Cerrar sesión
        </button>

        <!-- Menú móvil -->
        <ion-button
          fill="clear"
          class="md:hidden text-2xl text-salmon"
          (click)="toggleMenu()"
        >
          <ion-icon name="menu"></ion-icon>
        </ion-button>
      </div>
    </div>

    <!-- Menú móvil desplegable -->
    <div
      *ngIf="isMenuOpen"
      class="md:hidden bg-white border-t border-gray-200 w-full px-6 py-4 space-y-3 z-50"
    >
      <a
        routerLink="/calendar"
        class="block text-salmon hover:text-lavender font-medium"
        (click)="closeMenu()"
        >Calendario</a
      >
      <a
        routerLink="/appointment-requests"
        class="block text-salmon hover:text-lavender font-medium"
        (click)="closeMenu()"
        >Solicitudes</a
      >
      <a
        routerLink="/search-patient"
        class="block text-salmon hover:text-lavender font-medium"
        (click)="closeMenu()"
        >Pacientes</a
      >
      <a
        routerLink="/psychologist-profile"
        class="block text-salmon hover:text-lavender font-medium"
        (click)="closeMenu()"
        >Perfil</a
      >
      <a
        *ngIf="isAdmin"
        routerLink="/admin"
        class="block text-salmon hover:text-lavender font-medium"
        (click)="closeMenu()"
      >
        Administración</a
      >
      <ion-button
        class="block text-salmon hover:text-lavender font-medium"
        (click)="logout(); closeMenu()"
      >
        Cerrar sesión
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>
