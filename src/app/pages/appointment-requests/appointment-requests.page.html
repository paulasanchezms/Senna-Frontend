<app-psychologist-navbar></app-psychologist-navbar>

<ion-content class="p-4 bg-lightPeach min-h-screen">
  <div class="space-y-6">
    <ion-card 
      *ngFor="let appt of pendingAppointments"
      class="rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 hover:scale-[1.01] px-4 py-3 bg-white">

      <ion-card-header class="pb-2">
        <ion-card-title class="text-xl text-lavender font-semibold font-peachy">
          {{ appt.patient.name }} {{ appt.patient.last_name }}
        </ion-card-title>
      </ion-card-header>

      <ion-card-content class="text-sm text-gray-700 font-medium space-y-1">
        <p><span class="text-salmon">Fecha:</span> {{ appt.dateTime | date: 'fullDate' }}</p>
        <p><span class="text-salmon">Hora:</span> {{ appt.dateTime | date: 'shortTime' }}</p>
        <p><span class="text-salmon">Duraci√≥n:</span> {{ appt.duration }} min</p>
      </ion-card-content>

      <div class="flex justify-end gap-3 mt-4 pb-3 pr-4">
        <ion-button 
          fill="solid"
          size="small"
          class="bg-mint text-green-900 font-semibold rounded-full px-4 py-1 text-sm hover:bg-green-200 transition"
          (click)="accept(appt.id)"
        >
          Aceptar
        </ion-button>
        <ion-button 
          fill="solid"
          size="small"
          class="bg-peach text-red-900 font-semibold rounded-full px-4 py-1 text-sm hover:bg-red-200 transition"
          (click)="reject(appt.id)"
        >
          Rechazar
        </ion-button>
      </div>
    </ion-card>

    <div *ngIf="pendingAppointments.length === 0" class="text-center text-gray-500 text-sm mt-10 italic">
      No hay solicitudes pendientes.
    </div>
  </div>
</ion-content>